# 首都征服机制测试

## 测试场景

### 1. 有首都的区域征服测试
- **测试区域**: 翡翠王国 (首都: 翡翠宫)
- **征服条件**: 需要25星 + 征服首都"翡翠宫"
- **测试步骤**:
  1. 侦察并征服翡翠王国区域内的据点，累计25星
  2. 检查区域征服进度是否达到100%但区域未完全征服
  3. 征服首都"翡翠宫"
  4. 验证区域是否完全征服

### 2. 无首都的区域征服测试
- **测试区域**: 巢穴附近 (无首都)
- **征服条件**: 仅需要15星
- **测试步骤**:
  1. 侦察并征服巢穴附近区域内的据点，累计15星
  2. 验证区域是否直接完全征服

### 3. 界面显示测试
- **区域选项卡**: 检查是否显示首都信息和征服状态
- **据点卡片**: 检查首都据点是否显示"🏛️首都"标识
- **征服进度**: 检查进度条和状态显示是否正确

## 预期结果

1. **有首都区域**: 星级达标但首都未征服时，区域不完全征服
2. **无首都区域**: 星级达标时，区域直接完全征服
3. **界面显示**: 正确显示首都信息和征服状态
4. **日志输出**: 控制台应显示相关的征服状态更新信息

## 测试数据

根据区域信息表，以下区域有首都：
- 翡翠王国 → 翡翠宫
- 卡拉森林 → 卡拉村
- 鲜血港湾 → 血港
- 黑暗巢都 → 暗影塔
- 幻月群岛 → 幻月城
- 红枫群岛 → 红枫港
- 卡斯提亚领 → 卡斯提亚堡
- 星辉矿区 → 维拉诺瓦城
- 奥雷利安皇都圈 → 奥雷利安皇都
- 碧树螺旋 → 碧树城
- 月冠 → 月冠殿
